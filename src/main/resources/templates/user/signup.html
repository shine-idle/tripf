<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="layout/default_layout">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signup</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
</head>
<body>
<!-- Header -->

<div layout:fragment="content">
<div class="signup-container">
    <h2 class="text-center mb-4">회원가입</h2>
    <form th:action="@{/signup}" method="post" class="needs-validation" novalidate>
        <div class="mb-3">
            <label for="email" class="form-label">이메일</label>
            <input type="email" class="form-control" id="email" name="email" required>
            <div class="invalid-feedback">유효한 이메일을 입력해주세요.</div>
        </div>

        <div class="mb-3">
            <label for="password" class="form-label">비밀번호</label>
            <input type="password" class="form-control" id="password" name="password" required>
            <div class="invalid-feedback">비밀번호를 입력해주세요. (최소 8자, 대문자, 소문자, 숫자, 특수문자 포함)</div>
        </div>

        <div class="mb-3">
            <label for="name" class="form-label">이름</label>
            <input type="text" class="form-control" id="name" name="name" required>
            <div class="invalid-feedback">이름을 입력해주세요.</div>
        </div>

        <div class="mb-3">
            <label for="address" class="form-label">주소</label>
            <input type="text" class="form-control" id="address" name="address" required>
            <div class="invalid-feedback">주소를 입력해주세요.</div>
        </div>

        <div class="mb-3">
            <label for="auth" class="form-label">권한</label>
            <select class="form-select" id="auth" name="auth" required>
                <option value="" disabled selected>권한을 선택해주세요</option>
                <option value="NORMAL">일반 사용자</option>
                <option value="ADMIN">관리자</option>
            </select>
            <div class="invalid-feedback">권한을 선택해주세요.</div>
        </div>

        <button type="submit" class="btn btn-primary w-100">회원가입</button>
    </form>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
<script>
    // Bootstrap validation
    (function () {
        'use strict';
        var forms = document.querySelectorAll('.needs-validation');
        Array.prototype.slice.call(forms).forEach(function (form) {
            form.addEventListener('submit', function (event) {
                if (!form.checkValidity()) {
                    event.preventDefault();
                    event.stopPropagation();
                }
                form.classList.add('was-validated');
            }, false);
        });
    })();
</script>
</div>
</body>
</html>